#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "=== Pre-push: Building project ==="
echo ""

echo "Checking client build..."
if [ -d "client" ]; then
    cd client
    echo "Building client..."
    
    if npm run build 2>/dev/null; then
        echo "Client build: SUCCESS"
    else
        echo "Client build: FAILED"
        echo "Please fix build errors before pushing."
        exit 1
    fi
    cd ..
else
    echo "Client directory not found"
fi

echo ""
echo "========================================"
echo "Ready to push! All checks passed."
echo "========================================"